<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Quick Start · FLOWFarm.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">FLOWFarm.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Intro</a></li><li class="is-active"><a class="tocitem" href>Quick Start</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#set-flow-parameters"><span>set flow parameters</span></a></li><li class="toplevel"><a class="tocitem" href="#initialize-the-wind-shear-model"><span>initialize the wind shear model</span></a></li><li class="toplevel"><a class="tocitem" href="#initialize-the-wind-resource-definition"><span>initialize the wind resource definition</span></a></li><li class="toplevel"><a class="tocitem" href="#the-wake-deficit-model-predicts-the-impact-of-wind-turbines-wake-on-the-wind-speed"><span>the wake deficit model predicts the impact of wind turbines wake on the wind speed</span></a></li><li class="toplevel"><a class="tocitem" href="#the-wake-deflection-model-predicts-the-cross-wind-location-of-the-center-of-a-wind-turbine-wake"><span>the wake deflection model predicts the cross-wind location of the center of a wind turbine wake</span></a></li><li class="toplevel"><a class="tocitem" href="#the-wake-combination-model-defines-how-the-predicted-deficits-in-each-wake-should-be-combined-to-predict-the-total-deficit-at-a-point"><span>the wake combination model defines how the predicted deficits in each wake should be combined to predict the total deficit at a point</span></a></li><li class="toplevel"><a class="tocitem" href="#the-local-turbulence-intensity-models-can-be-used-to-estimate-the-local-turbulence-intensity-at-each-wind-turbine-or-point-to-provide"><span>the local turbulence intensity models can be used to estimate the local turbulence intensity at each wind turbine or point to provide</span></a></li><li class="toplevel"><a class="tocitem" href="#more-accurate-input-information-to-the-wake-and-deflection-models-if-applicable."><span>more accurate input information to the wake and deflection models if applicable.</span></a></li><li class="toplevel"><a class="tocitem" href="#initialize-model-set.-This-is-just-a-convenience-container-for-the-analysis-models."><span>initialize model set. This is just a convenience container for the analysis models.</span></a></li></ul></li><li><a class="tocitem" href="../How_to/">Guided Examples</a></li><li><a class="tocitem" href="../Explanation/">Theory</a></li><li><a class="tocitem" href="../Reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Quick Start</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Quick Start</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/FLOWFarm.jl/blob/master/docs/src/Tutorial.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h1><p>This tutorial covers the basics of FlowFARM. For more specifics refer to the <a href="../How_to/">How-to guide</a>.</p><p>There are three main steps to setting up and running an analysis in FLOWFarm:</p><ul><li>(1) setting up the problem description</li><li>(2) setting up the analysis model set</li><li>(3) running the analysis</li></ul><p>Details for setting up an optimization will depend heavily on the optimization package you are using, your objective, and your design variables. Optimization examples using various packages are provided in the example scripts located in the test  directory.</p><h3 id="(1)-Setting-up-the-problem-description"><a class="docs-heading-anchor" href="#(1)-Setting-up-the-problem-description">(1) Setting up the problem description</a><a id="(1)-Setting-up-the-problem-description-1"></a><a class="docs-heading-anchor-permalink" href="#(1)-Setting-up-the-problem-description" title="Permalink"></a></h3><pre><code class="language-julia hljs">import FLOWFarm; const ff = FLOWFarm

# define the rotor diameter
diameter = 80.0

# set initial turbine x and y locations
turbine_x = [-3.0, 0.0, 3.0, 0.0, 0.0, -1.5, 0.0, 1.5, 0.0].*diameter
turbine_y = [0.0, 3.0, 0.0, -3.0, 0.0, 0.0, 1.5, 0.0, -1.5].*diameter

# calculate the number of turbines
nturbines = length(turbine_x)

# set turbine base heights
turbine_z = zeros(nturbines)

# set turbine yaw values
turbine_yaw = zeros(nturbines)

# set turbine design parameters
rotor_diameter = zeros(nturbines) .+ diameter   # m
hub_height = zeros(nturbines) .+ 70.0           # m
cut_in_speed = zeros(nturbines) .+4.            # m/s
cut_out_speed = zeros(nturbines) .+25.          # m/s
rated_speed = zeros(nturbines) .+16.            # m/s
rated_power = zeros(nturbines) .+2.0E6          # W
generator_efficiency = zeros(nturbines) .+ 0.944
</code></pre><p>Rotor swept area sample points (normalized by rotor radius). These arrays define which which points on the rotor swept area should be used to estimate the effective inflow wind speed for each wind turbine. Values of 0.0 are at the rotor hub, 1.0 is at the blade tip. z is vertical, and y is horizontal. These points track the rotor yaw.``` rotor<em>points</em>y = [0.0] rotor<em>points</em>z = [0.0]</p><h1 id="set-flow-parameters"><a class="docs-heading-anchor" href="#set-flow-parameters">set flow parameters</a><a id="set-flow-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#set-flow-parameters" title="Permalink"></a></h1><p>wind<em>speed = 8.0        # m/2 air</em>density = 1.1716    # kg/m^3 ambient<em>ti = 0.077      # % shearexponent = 0.15 winddirections = [275.0*pi/180.0, 0.0, pi]          # radians windspeeds = [wind</em>speed, wind<em>speed, wind</em>speed]   # m/s windprobabilities = [1.0/3.0,1.0/3.0,1.0/3.0]       # % ambient<em>tis = [ambient</em>ti, ambient<em>ti, ambient</em>ti]  # % measurementheight = [hub<em>height[1], hub</em>height[1], hub_height[1]]   # m</p><h1 id="initialize-the-wind-shear-model"><a class="docs-heading-anchor" href="#initialize-the-wind-shear-model">initialize the wind shear model</a><a id="initialize-the-wind-shear-model-1"></a><a class="docs-heading-anchor-permalink" href="#initialize-the-wind-shear-model" title="Permalink"></a></h1><p>wind<em>shear</em>model = ff.PowerLawWindShear(shearexponent)</p><h1 id="initialize-the-wind-resource-definition"><a class="docs-heading-anchor" href="#initialize-the-wind-resource-definition">initialize the wind resource definition</a><a id="initialize-the-wind-resource-definition-1"></a><a class="docs-heading-anchor-permalink" href="#initialize-the-wind-resource-definition" title="Permalink"></a></h1><p>windresource = ff.DiscretizedWindResource(winddirections, windspeeds, windprobabilities,  measurementheight, air<em>density, ambient</em>tis, wind<em>shear</em>model)</p><pre><code class="nohighlight hljs">
### (2) Setting up the analysis models

A model set requires a Wake Deficit Model, Wake Deflection Model, Wake Combination Model, and a Local Turbulence Intensity Model
* Deficit Models: JensenTopHat, JensenCosine, MultiZone, GaussOriginal, GaussYaw, GaussYawVariableSpread, GaussSimple
* Deflection Models: GaussYawDeflection, GaussYawVariableSpreadDeflection, JiminezYawDeflection, MultizoneDeflection
* Combination Models: LinearFreestreamSuperposition, SumOfSquaresFreestreamSuperposition, SumOfSquaresLocalVelocitySuperposition, LinearLocalVelocitySuperposition
* Turbulence Models: LocalTIModelNoLocalTI, LocalTIModelMaxTI

The model set can be set up as follows:
</code></pre><p>julia</p><pre><code class="language-initialize hljs">not accurate. For examples on how to use more accurate power models, look at the example 
optimization scripts)```
power_model = ff.PowerModelPowerCurveCubic()
</code></pre><p>The user can define different power models for different wind turbines, but here we use the same power model for every turbine. The initialization of the power<em>models vector is important for optmization using algorithmic differentiation via the ForwardDiff.jl package.``` power</em>models = Vector{typeof(power<em>model)}(undef, nturbines) for i = 1:nturbines     power</em>models[i] = power_model end</p><pre><code class="language-Initialize hljs">scripts for details on initializing them. The initialization of ct_models vector is important
for optmization using algorithmic differentiation via the ForwardDiff.jl package.```
ct_model = ff.ThrustModelConstantCt(0.65)
ct_models = Vector{typeof(ct_model)}(undef, nturbines)
for i = 1:nturbines
    ct_models[i] = ct_model
end
</code></pre><p>set up wake and related models. Here we will use the default values provided in FLOWFarm. However, it is important to use the correct model parameters. More information and references are provided in the doc strings attached to each model.```</p><h1 id="the-wake-deficit-model-predicts-the-impact-of-wind-turbines-wake-on-the-wind-speed"><a class="docs-heading-anchor" href="#the-wake-deficit-model-predicts-the-impact-of-wind-turbines-wake-on-the-wind-speed">the wake deficit model predicts the impact of wind turbines wake on the wind speed</a><a id="the-wake-deficit-model-predicts-the-impact-of-wind-turbines-wake-on-the-wind-speed-1"></a><a class="docs-heading-anchor-permalink" href="#the-wake-deficit-model-predicts-the-impact-of-wind-turbines-wake-on-the-wind-speed" title="Permalink"></a></h1><p>wakedeficitmodel = ff.GaussYaw()</p><h1 id="the-wake-deflection-model-predicts-the-cross-wind-location-of-the-center-of-a-wind-turbine-wake"><a class="docs-heading-anchor" href="#the-wake-deflection-model-predicts-the-cross-wind-location-of-the-center-of-a-wind-turbine-wake">the wake deflection model predicts the cross-wind location of the center of a wind turbine wake</a><a id="the-wake-deflection-model-predicts-the-cross-wind-location-of-the-center-of-a-wind-turbine-wake-1"></a><a class="docs-heading-anchor-permalink" href="#the-wake-deflection-model-predicts-the-cross-wind-location-of-the-center-of-a-wind-turbine-wake" title="Permalink"></a></h1><p>wakedeflectionmodel = ff.GaussYawDeflection()</p><h1 id="the-wake-combination-model-defines-how-the-predicted-deficits-in-each-wake-should-be-combined-to-predict-the-total-deficit-at-a-point"><a class="docs-heading-anchor" href="#the-wake-combination-model-defines-how-the-predicted-deficits-in-each-wake-should-be-combined-to-predict-the-total-deficit-at-a-point">the wake combination model defines how the predicted deficits in each wake should be combined to predict the total deficit at a point</a><a id="the-wake-combination-model-defines-how-the-predicted-deficits-in-each-wake-should-be-combined-to-predict-the-total-deficit-at-a-point-1"></a><a class="docs-heading-anchor-permalink" href="#the-wake-combination-model-defines-how-the-predicted-deficits-in-each-wake-should-be-combined-to-predict-the-total-deficit-at-a-point" title="Permalink"></a></h1><p>wakecombinationmodel = ff.LinearLocalVelocitySuperposition()</p><h1 id="the-local-turbulence-intensity-models-can-be-used-to-estimate-the-local-turbulence-intensity-at-each-wind-turbine-or-point-to-provide"><a class="docs-heading-anchor" href="#the-local-turbulence-intensity-models-can-be-used-to-estimate-the-local-turbulence-intensity-at-each-wind-turbine-or-point-to-provide">the local turbulence intensity models can be used to estimate the local turbulence intensity at each wind turbine or point to provide</a><a id="the-local-turbulence-intensity-models-can-be-used-to-estimate-the-local-turbulence-intensity-at-each-wind-turbine-or-point-to-provide-1"></a><a class="docs-heading-anchor-permalink" href="#the-local-turbulence-intensity-models-can-be-used-to-estimate-the-local-turbulence-intensity-at-each-wind-turbine-or-point-to-provide" title="Permalink"></a></h1><h1 id="more-accurate-input-information-to-the-wake-and-deflection-models-if-applicable."><a class="docs-heading-anchor" href="#more-accurate-input-information-to-the-wake-and-deflection-models-if-applicable.">more accurate input information to the wake and deflection models if applicable.</a><a id="more-accurate-input-information-to-the-wake-and-deflection-models-if-applicable.-1"></a><a class="docs-heading-anchor-permalink" href="#more-accurate-input-information-to-the-wake-and-deflection-models-if-applicable." title="Permalink"></a></h1><p>localtimodel = ff.LocalTIModelMaxTI()</p><h1 id="initialize-model-set.-This-is-just-a-convenience-container-for-the-analysis-models."><a class="docs-heading-anchor" href="#initialize-model-set.-This-is-just-a-convenience-container-for-the-analysis-models.">initialize model set. This is just a convenience container for the analysis models.</a><a id="initialize-model-set.-This-is-just-a-convenience-container-for-the-analysis-models.-1"></a><a class="docs-heading-anchor-permalink" href="#initialize-model-set.-This-is-just-a-convenience-container-for-the-analysis-models." title="Permalink"></a></h1><p>model_set = ff.WindFarmModelSet(wakedeficitmodel, wakedeflectionmodel, wakecombinationmodel, localtimodel)</p><pre><code class="nohighlight hljs">### (3) Running the analysis

#### Calculate AEP</code></pre><p>julia</p><pre><code class="nohighlight hljs">AEP = ff.calculate_aep(turbine_x, turbine_y, turbine_z, rotor_diameter,
    hub_height, turbine_yaw, ct_models, generator_efficiency, cut_in_speed,
    cut_out_speed, rated_speed, rated_power, windresource, power_models, model_set,
    rotor_sample_points_y=rotor_points_y, rotor_sample_points_z=rotor_points_z)</code></pre><p>```</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Intro</a><a class="docs-footer-nextpage" href="../How_to/">Guided Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Friday 30 July 2021 02:22">Friday 30 July 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
